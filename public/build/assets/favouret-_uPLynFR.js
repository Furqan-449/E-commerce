document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".favorite-btn").forEach(n=>{n.addEventListener("click",async function(r){r.preventDefault();const a=this.dataset.productId;try{const e=await axios.post(`/favourite/${a}`).then(t=>{const o=t.data.is_favorite;console.log(o);const i=this.querySelector(".heart-empty"),s=this.querySelector(".heart-filled");o?(i.style.display="none",s.style.display="inline"):(i.style.display="inline",s.style.display="none")}).catch(t=>{console.log(t),window.location.href="/login_page"})}catch(e){console.log(e),e.response&&e.response.status===401?window.location.href="/login_page":console.error("Failed to toggle favorite:",e)}})})});document.addEventListener("DOMContentLoaded",function(){const n=document.querySelectorAll(".product-thumbnail"),r=document.querySelector(".product-main-image"),a=document.getElementById("route");n.forEach(e=>{e.addEventListener("click",function(){const t=this.getAttribute("image-id");axios.get(`/variant_image/${t}`).then(o=>{r.src=`/storage/items/${o.data.otherimage}`,n.forEach(i=>{i.style.border="none"}),this.style.border="2px solid black",a.href=`${window.location.origin}/add_to/${t}`}).catch(o=>{console.error("Error fetching image:",o)})})})});
